/**
 * reactflow.css
 * ----------------
 * ReactFlow skin:
 * - Controls / MiniMap / selection box
 * - Selected highlight (card tint, no outline)
 * - Cursor behavior: default arrow in canvas (Figma-like)
 */

.react-flow {
  background: transparent;
}

.react-flow__background {
  background: transparent;
}

/* Controls / MiniMap 更线框、更克制 */
.react-flow__controls {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: none;
}

.react-flow__controls button {
  background: var(--panel);
  border-bottom: 1px solid var(--border);
  color: var(--text);
  cursor: default;
}

.react-flow__controls button:hover {
  background: #f7f9ff;
}

.react-flow__controls button:last-child {
  border-bottom: 0;
}

.react-flow__minimap {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 12px;
  box-shadow: none;
}

/* selection box（框选） */
.react-flow__selection {
  background: rgba(43, 92, 255, 0.08);
  border: 1px solid rgba(43, 92, 255, 0.35);
}

/* =========================
   Cursor (Figma-ish)
   - Canvas: default arrow
   - Avoid "grab/grabbing" hand cursor
   ========================= */
.react-flow__pane {
  cursor: default !important;
}

.react-flow__pane:active {
  cursor: default !important;
}

/* Nodes should NOT force grab */
.react-flow__node {
  cursor: default !important;
}

/* Handles: indicate connect */
.react-flow__handle {
  cursor: crosshair;
}

/* Edges: keep default */
.react-flow__edge,
.react-flow__edge path {
  cursor: default !important;
}

/* =========================
   Selected highlight
   - No outline
   - Tint the card + slightly stronger shadow
   - IMPORTANT: cover both class + aria-selected (timing differs between versions)
   ========================= */

/* smooth transition so it feels instant but not jumpy */
.react-flow__node > :first-child {
  transition: box-shadow 120ms ease, background-image 120ms ease,
    filter 120ms ease;
}

/* when selected, add a blue tint overlay via background-image (won't fight inline background) */
.react-flow__node.selected > :first-child,
.react-flow__node[aria-selected="true"] > :first-child,
.react-flow__node[data-selected="true"] > :first-child {
  background-image: linear-gradient(
    0deg,
    rgba(43, 92, 255, 0.12),
    rgba(43, 92, 255, 0.12)
  ) !important;
  box-shadow: 0 10px 26px rgba(15, 23, 42, 0.16) !important;
  filter: saturate(1.02) brightness(1.01);
}

/* Selected edges */
.react-flow__edge.selected path,
.react-flow__edge[aria-selected="true"] path {
  stroke: rgba(43, 92, 255, 0.75);
  stroke-width: 2.5;
}

/* attribution 隐藏 */
.react-flow__attribution {
  display: none;
}
